local TeleportFromTo = {																																			
	["Skybar1"] = {
		positionFrom = { ['x'] = 303.39, ['y'] = -939.83, ['z'] = -29.46, ['h'] = 186.01, nom = "Skybar"},
		positionTo = { ['x'] = 315.22, ['y'] = -929.27, ['z'] = -52.81, ['h'] = 181.1, nom = "Lobby"},
	},
	["Skybar2"] = {
		positionFrom = { ['x'] = 303.39, ['y'] = -939.83, ['z'] = -29.46, ['h'] = 186.01, nom = "Skybar"},
		positionTo = { ['x'] = 309.83, ['y'] = -929.69, ['z'] = -52.81, ['h'] = 181.1, nom = "Lobby"},
	},
	["RoofPoolBar"] = {
		positionFrom = { ['x'] = 415.12, ['y'] = -216.84, ['z'] = 59.91, nom = "Roof"},
		positionTo = { ['x'] = 416.61, ['y'] = -212.31, ['z'] = 70.22, nom = "Lobby"},
	},
	["DesignerPenthouse"] = {
		positionFrom = { ['x'] = -304.95, ['y'] = -721.01, ['z'] = 28.03, ['h'] = 164.56, nom = "Penthouse"},
		positionTo = { ['x'] = -288.09, ['y'] = -722.64, ['z'] = 125.47, ['h'] = 251.36, nom = "Garage"},
	},
	["RedCircle"] = {
		positionFrom = { ['x'] = -318.26, ['y'] = 217.01, ['z'] = 87.87, nom = "Red Circle"},
		positionTo = { ['x'] = -316.73, ['y'] = 217.89, ['z'] = 99.88, nom = "Lobby"},
	},
	["NoahPatio"] = {
		positionFrom = { ['x'] = -1036.69, ['y'] = 208.33, ['z'] = 42.67, nom = "Patio"},
		positionTo = { ['x'] = -1028.17, ['y'] = 222.74, ['z'] = 68.23, nom = "Living Room"},
	},
	["MountZGarage"] = {
		positionFrom = { ['x'] = -495.4, ['y'] = -372.88, ['z'] = 24.23, nom = "Lobby"},
		positionTo = { ['x'] = -436.02, ['y'] = -359.69, ['z'] = 34.95, nom = "Garage"},
	},
	["MountZGarage2"] = {
		positionFrom = { ['x'] = -419.25, ['y'] = -344.82, ['z'] = 24.23, nom = "Lobby"},
		positionTo = { ['x'] = -436.02, ['y'] = -359.69, ['z'] = 34.95, nom = "Garage"},

	},
	["CityCouncil"] = {
		positionFrom = { ['x'] = -1309.28, ['y'] = -559.44, ['z'] = 20.8, nom = "Lobby"},
		positionTo = { ['x'] = -1307.08, ['y'] = -562.19, ['z'] = 30.57, nom = "Garage"},
	},
	["A1Crown"] = {
		positionFrom = { ['x'] = 138.25, ['y'] = -137.30, ['z'] = 54.86, nom = "2nd Floor"},
		positionTo = { ['x'] = 137.54, ['y'] = -134.47, ['z'] = 60.52, nom = "1st Floor"},
	},
	["DioApartment"] = {
		positionFrom = { ['x'] = -1396.10, ['y'] = -478.73, ['z'] = 49.10, nom = "Foyer"},
		positionTo = { ['x'] = -1389.62, ['y'] = -476.46, ['z'] = 72.04, nom = "Garage"},
	},
	["DioBigGarage"] = {
		positionFrom = { ['x'] = -1395.81, ['y'] = -482.63, ['z'] = 49.10, nom = "CustomGarage"},
		positionTo = { ['x'] = -1391.11, ['y'] = -482.79, ['z'] = 78.20, nom = "Garage"},
	},
	["DioCustomGarage"] = {
		positionFrom = { ['x'] = -1397.63, ['y'] = -470.60, ['z'] = 78.20, nom = "Foyer"},
		positionTo = { ['x'] = -1396.48, ['y'] = -479.91, ['z'] = 72.04, nom = "CustomGarage"},
	},
	["DioAptGarageCustom"] = {
		positionFrom = { ['x'] = -1363.14, ['y'] = -472.24, ['z'] = 30.87, ['h'] = 98.00, nom = "CustomGarage"},
		positionTo = { ['x'] = -1388.62, ['y'] = -482.24, ['z'] = 77.47, ['h'] = 9.95, nom = "PublicParking"},
	},
	["DioAptGarageBigCarA"] = {
		positionFrom = { ['x'] = -1389.46, ['y'] = -468.08, ['z'] = 31.59, ['h'] = 186.22, nom = "A Floor"},
		positionTo = { ['x'] = -1392.40, ['y'] = -474.51, ['z'] = 49.10, ['h'] = 234.96, nom = "PublicParking"},
	},
	["DioAptGarageBigCarB"] = {
		positionFrom = { ['x'] = -1383.22, ['y'] = -466.71, ['z'] = 31.59, ['h'] = 186.22, nom = "B Floor"},
		positionTo = { ['x'] = -1392.40, ['y'] = -474.51, ['z'] = 54.44, ['h'] = 234.96, nom = "PublicParking"},
	},
	["DioAptGarageBigCarC"] = {
		positionFrom = { ['x'] = -1376.99, ['y'] = -465.74, ['z'] = 31.59, ['h'] = 186.22, nom = "C Floor"},
		positionTo = { ['x'] = -1392.40, ['y'] = -474.51, ['z'] = 59.79, ['h'] = 234.96, nom = "PublicParking"},
	},
	["Wholesale"] = {
		positionFrom = { ['x'] = 517.33, ['y'] = 169.31, ['z'] = 99.37, ['h'] = 256.22, nom = "Warehouse"},
		positionTo = { ['x'] = 522.50, ['y'] = 174.73, ['z'] = 71.72, ['h'] = 87.98, nom = "Garage"},
	},
	["RealEstateOfficeMazeBank"] = {
		positionFrom = { ['x'] = -72.44, ['y'] = -824.36, ['z'] = 243.39, ['h'] = 74.02, nom = "Big Garage Parking"},
		positionTo = { ['x'] = -91.95, ['y'] = -823.01, ['z'] = 222.00, ['h'] = 260.45, nom = "Foyer"},
	},
	["RealEstateBigGarageA"] = {
		positionFrom = { ['x'] = -84.13, ['y'] = -821.31, ['z'] = 36.03, ['h'] = 346.84, nom = "Big Garage Parking Floor A"},
		positionTo = { ['x'] = -85.15, ['y'] = -822.25, ['z'] = 222.00, ['h'] = 229.97, nom = "Public Parking"},
	},
	["MazeBankEnter"] = {
		positionFrom = { ['x'] = -66.56, ['y'] = -801.92, ['z'] = 44.23, ['h'] = 335.37, nom = "Foyer"},
		positionTo = { ['x'] = -78.28, ['y'] = -822.38, ['z'] = 243.39, ['h'] = 246.33, nom = "Front Door"},
	},
	["MazeBankRoof"] = {
		positionFrom = { ['x'] = -75.07, ['y'] = -824.46, ['z'] = 321.29, ['h'] = 157.60, nom = "Foyer"},
		positionTo = { ['x'] = -78.90, ['y'] = -833.06, ['z'] = 243.39, ['h'] = 336.84, nom = "Roof Top"},
	},
	["Apartment12EclipseChastity"] = {
		positionFrom = { ['x'] = -787.02, ['y'] = 315.7, ['z'] = 187.91, ['h'] = 273.59, nom = "Lobby"},
		positionTo = { ['x'] = -777.37, ['y'] = 319.42, ['z'] = 85.66, ['h'] = 179.58, nom = "12 Eclipse Towers"},
	},
	["Apartment7EclipsePooki"] = {
		positionFrom = { ['x'] = -774.0, ['y'] = 341.99, ['z'] = 196.69, ['h'] = 93.41, nom = "Lobby"},
		positionTo = { ['x'] = -770.49, ['y'] = 319.52, ['z'] = 85.66, ['h'] = 176.19, nom = "7 Eclipse Towers"},
	},
	["WeazelPlaza"] = {
		positionFrom = { ['x'] = -891.81, ['y'] = -434.61, ['z'] = 121.61, ['h'] = 21.92, nom = "Lobby"},
		positionTo = { ['x'] = -906.40, ['y'] = -451.65, ['z'] = 39.61, ['h'] = 113.46, nom = "7 Weazel Plaza"},
	},
	["TinkleTowers"] = {
		positionFrom = { ['x'] = -31.31, ['y'] = -595.17, ['z'] = 80.03, ['h'] = 251.12, nom = "Lobby"},
		positionTo = { ['x'] = -39.30, ['y'] = -614.26, ['z'] = 35.27, ['h'] = 257.67, nom = "7 Tinkle Tower"},
	},
	["Eclipse6"] = {
		positionFrom = { ['x'] = -781.99, ['y'] = 326.45, ['z'] = 223.26, ['h'] = 183.40, nom = "Lobby"},
		positionTo = { ['x'] = -781.84, ['y'] = 319.06, ['z'] = 85.66, ['h'] = 271.05, nom = "6 Eclipse Tower"},
	},
	["MRichard7"] = {
		positionFrom = { ['x'] = -907.08, ['y'] = -372.61, ['z'] = 109.44, ['h'] = 26.43, nom = "Lobby"},
		positionTo = { ['x'] = -898.97, ['y'] = -346.95, ['z'] = 34.68, ['h'] = 296.80, nom = "7 Majestic Richard"},
	},
	["EclipseRoofPenthouse"] = {
		positionFrom = { ['x'] = -784.19, ['y'] = 351.73, ['z'] = 88.00, ['h'] = 4.13, nom = "9 Eclipse Towers"},
		positionTo = { ['x'] = -769.29, ['y'] = 336.67, ['z'] = 243.38, ['h'] = 100.66, nom = "Back Lot"},
	},
	["MZHeli1"] = {
		positionFrom = { ['x'] = -440.58, ['y'] = -339.8, ['z'] = 78.31, ['h'] = 83.58, nom = "Pharmacy"},
		positionTo = { ['x'] = -493.49, ['y'] = -327.17, ['z'] = 42.31, ['h'] = 167.00, nom = "Heli-Pad"},
	},
	["MZHeli2"] = {
		positionFrom = { ['x'] = -449.48, ['y'] = -338.75, ['z'] = 78.31, ['h'] = 265.43, nom = "Pharmacy"},
		positionTo = { ['x'] = -493.49, ['y'] = -327.17, ['z'] = 42.31, ['h'] = 167.00, nom = "Heli-Pad"},
	},
	["MZHeli3"] = {
		positionFrom = { ['x'] = -449.04, ['y'] = -334.69, ['z'] = 78.30, ['h'] = 266.35, nom = "Pharmacy"},
		positionTo = { ['x'] = -493.49, ['y'] = -327.17, ['z'] = 42.31, ['h'] = 167.00, nom = "Heli-Pad"},
	},
	["MZHeli4"] = {
		positionFrom = { ['x'] = -439.65, ['y'] = -335.86, ['z'] = 78.30, ['h'] = 86.98, nom = "Pharmacy"},
		positionTo = { ['x'] = -493.49, ['y'] = -327.17, ['z'] = 42.31, ['h'] = 167.00, nom = "Heli-Pad"},
	},
	["MZStairs"] = {
		positionFrom = { ['x'] = -442.17, ['y'] = -342.85, ['z'] = 35.01, ['h'] = 164.29, nom = "2nd Floor"},
		positionTo = { ['x'] = -442.13, ['y'] = -343.21, ['z'] = 42.43, ['h'] = 349.86, nom = "Lobby"},
	},
	["MZReceptionEmergency"] = {
		positionFrom = { ['x'] = -452.55, ['y'] = -288.4, ['z'] = 34.95, ['h'] = 115.19, nom = "Reception"},
		positionTo = { ['x'] = -493.5, ['y'] = -326.94, ['z'] = 69.51, ['h'] = 169.86, nom = "Emergency"},
	},
	["MZPharmacyLab"] = {
		positionFrom = { ['x'] = -490.59, ['y'] = -327.47, ['z'] = 42.31, ['h'] = 166.51, nom = "Laboratory"},
		positionTo = { ['x'] = -452.54, ['y'] = -288.44, ['z'] = -130.84, ['h'] = 116.21, nom = "Pharmacy"},
	},
	["MZLabMorgue"] = {
		positionFrom = { ['x'] = 275.65, ['y'] = -1361.38, ['z'] = 24.54, ['h'] = 58.06, nom = "Laboratory"},
		positionTo = { ['x'] = -444.56, ['y'] = -319.33, ['z'] = -130.88, ['h'] = 23.69, nom = "Morgue"},
	},
	["MZBackReceptionPharmacy"] = {
		positionFrom = { ['x'] = -487.52, ['y'] = -328.02, ['z'] = 42.31, ['h'] = 174.08, nom = "Back Reception"},
		positionTo = { ['x'] = -452.7, ['y'] = -288.43, ['z'] = 69.54, ['h'] = 113.41, nom = "Pharmacy"},
	},
	["MZReceptionEmergency2"] = {
		positionFrom = { ['x'] = -452.55, ['y'] = -288.4, ['z'] = 34.95, ['h'] = 115.19, nom = "Reception"},
		positionTo = { ['x'] = -490.59, ['y'] = -327.61, ['z'] = 69.50, ['h'] = 173.64, nom = "Emergency"},
	},
	["MZReceptionEmergency"] = {
		positionFrom = { ['x'] = -452.55, ['y'] = -288.4, ['z'] = 34.95, ['h'] = 115.19, nom = "Reception"},
		positionTo = { ['x'] = -487.62, ['y'] = -328.12, ['z'] = 69.50, ['h'] = 170.25, nom = "Emergency"},
	},
	["LombankCustomerEntrance"] = {
		positionFrom = { ['x'] = -1581.36, ['y'] = -558.32, ['z'] = 34.95, ['h'] = 42.58, nom = "Lawyers Office"},
		positionTo = { ['x'] = -1578.95, ['y'] = -564.22, ['z'] = 108.52, ['h'] = 220.29, nom = "Lobby"},
	},
	["LombankPrivateGarage"] = {
		positionFrom = { ['x'] = -1586.16, ['y'] = -561.63, ['z'] = 86.50, ['h'] = 221.25, nom = "Lawyers Office"},
		positionTo = { ['x'] = -1580.79, ['y'] = -561.62, ['z'] = 108.52, ['h'] = 222.78, nom = "Private Garage"},
	},
	["LombankGarage1A"] = {
		positionFrom = { ['x'] = -1571.67, ['y'] = -583.17, ['z'] = 86.36, ['h'] = 356.32, nom = "Public Garage"},
		positionTo = { ['x'] = -1538.01, ['y'] = -576.87, ['z'] = 25.57, ['h'] = 33.52, nom = "Private Garage"},
	},
	["VonCrastenburgPool"] = {
		positionFrom = { ['x'] = -1231.97, ['y'] = -146.77, ['z'] = 47.79, ['h'] = 215.40, nom = "Pool"},
		positionTo = { ['x'] = -1192.89, ['y'] = -215.70, ['z'] = 37.94, ['h'] = 154.65, nom = "Hotel Level 1"},
	},


}

Drawing = setmetatable({}, Drawing)
Drawing.__index = Drawing


function Drawing.draw3DText(x,y,z,textInput,fontId,scaleX,scaleY,r, g, b, a)
    local px,py,pz=table.unpack(GetGameplayCamCoords())
    local dist = GetDistanceBetweenCoords(px,py,pz, x,y,z, 1)

    local scale = (1/dist)*20
    local fov = (1/GetGameplayCamFov())*100
    local scale = scale*fov

    SetTextScale(scaleX*scale, scaleY*scale)
    SetTextFont(fontId)
    SetTextProportional(1)
    SetTextColour(r, g, b, a)
    SetTextDropshadow(0, 0, 0, 0, 255)
    SetTextEdge(2, 0, 0, 0, 150)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    SetTextCentre(1)
    AddTextComponentString(textInput)
    SetDrawOrigin(x,y,z+2, 0)
    DrawText(0.0, 0.0)
    ClearDrawOrigin()
end

function Drawing.drawMissionText(m_text, showtime)
    ClearPrints()
    SetTextEntry_2("STRING")
    AddTextComponentString(m_text)
    DrawSubtitleTimed(showtime, 1)
end

function msginf(msg, duree)
    duree = duree or 500
    ClearPrints()
    SetTextEntry_2("STRING")
    AddTextComponentString(msg)
    DrawSubtitleTimed(duree, 1)
end

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(2)
		local targetPed = GetPlayerPed(-1)

		if(IsPedInAnyVehicle(targetPed))then
			targetPed = GetVehiclePedIsUsing(targetPed)

		end

		local pos = GetEntityCoords(targetPed, true)

		for k, j in pairs(TeleportFromTo) do

			--msginf(k .. " " .. tostring(j.positionFrom.x), 15000)
			if(Vdist(pos.x, pos.y, pos.z, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z) < 5.0)then
				DrawMarker(1, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
				if(Vdist(pos.x, pos.y, pos.z, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z) < 2.0)then
					Drawing.draw3DText(j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1.100, j.positionFrom.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
					if(Vdist(pos.x, pos.y, pos.z, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z) < 2.0)then
						ClearPrints()
						SetTextEntry_2("STRING")
						AddTextComponentString("Press ~r~E~w~ to ".. j.positionFrom.nom)
						DrawSubtitleTimed(2000, 1)
						if IsControlJustPressed(1, 38) then
							DoScreenFadeOut(1000)
							Citizen.Wait(2000)
							SetEntityCoords(targetPed, j.positionTo.x, j.positionTo.y, j.positionTo.z - 1)
							SetEntityHeading(targetPed, j.positionTo.h)
							DoScreenFadeIn(1000)
						end
					end
				end
			end

			if(Vdist(pos.x, pos.y, pos.z, j.positionTo.x, j.positionTo.y, j.positionTo.z) < 5.0)then
				DrawMarker(1, j.positionTo.x, j.positionTo.y, j.positionTo.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
				if(Vdist(pos.x, pos.y, pos.z, j.positionTo.x, j.positionTo.y, j.positionTo.z) < 2.0)then
					Drawing.draw3DText(j.positionTo.x, j.positionTo.y, j.positionTo.z - 1.100, j.positionTo.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
					if(Vdist(pos.x, pos.y, pos.z, j.positionTo.x, j.positionTo.y, j.positionTo.z) < 2.0)then
						ClearPrints()
						SetTextEntry_2("STRING")
						AddTextComponentString("Press ~r~E~w~ to ".. j.positionTo.nom)
						DrawSubtitleTimed(2000, 1)
						if IsControlJustPressed(1, 38) then
							DoScreenFadeOut(1000)
							Citizen.Wait(2000)
							SetEntityCoords(targetPed, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1)
							SetEntityHeading(targetPed, j.positionFrom.h)
							DoScreenFadeIn(1000)
						end
					end
				end
			end
		end
	end
end)
